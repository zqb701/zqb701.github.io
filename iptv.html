
<html><head>
	<title>iptv</title>
   <script type="text/javascript">

   let isAutoZoon = true;
   var myiframe = document.getElementById('iframe');
	   myiframe.focus();//要取得焦點才能接受按鍵控制 ???
   var scrW = window.screen.availWidth;
	   var scrWs = scrW/4;
	   var scrWm = scrW/2;
	   var scrHs = scrWs * 0.6;
	   var scrHm = scrWm * 0.6;
	   //var scrH = window.screen.availHeight;
   
   //window.Width = int(scrW/4);
   //window.Height = int(scrH/4);
	   window.resizeTo(scrWs, scrHs);
	   
//=============== end of main ===============
window.addEventListener('keydown', function(e){  
switch (e.code){
     	case 'KeyR':
		alert("window get R");
	    break;
}//swith(e.code)
}, false);
	   
function doKeyDown(event){
        switch (event.keyCode){
     	case 65://<A>
	    break;
                   
   	case 75://<K>
             //alert("k");
             //isAutoZoon=false;
             myiframe.webkitRequestFullScreen();
				    break;
	case 82://<R>
	//直播時,暫停後「再播放」會接稍早的串流, 而非當前的即時資訊, 故以「reload」處置。
	//視窗重置已有Ctrl+R可用, 同window.location.reload();
	// 但iframe重置要另行「加碼」。

			alert("r1");
		myiframe.contentWindow.location.reload(true);
			
			alert("r0");
		myiframe.location.reload(true);//可用
//myiframe.src=myiframe.src;
	    	break;
           }
	}
</script>
   </head>
<body 
      onkeydown="doKeyDown(event)"
      onmouseover="if(isAutoZoon){window.resizeTo(scrWm,scrHm);}" 
      onmouseleave="if(isAutoZoon){window.resizeTo(scrWs,scrHs);}">
	
<div style="position:relative;width:100%;padding-bottom:56.25%;">
        <iframe 
         onwebkitfullscreenchange="alert(myiframe.webkitfullscreenElement);"
                id="iframe" style="position:absolute;width:100%;height:100%"
        frameborder=0
        src="https://www.youtube.com/embed/pJ0VgJloR9E?
             iv_load_policy=1&fs=0&modestbranding=1&mute=1;&autoplay=1;"">
									 </iframe>
</div>
	
網路電視,chrome子母畫面:另外操作才有, 調音量或進度需到原視窗, 無法全螢幕,要先開一個視窗<br>
  開啟子視窗, 配iframe<br>
  用embed網址, 以排除頁面其它元素(iframe放標準連結無效), <a href="https://www.youtube.com/watch?v=pJ0VgJloR9E">標準網址</a><br>
embed版的全螢幕鈕無作用,用fs=0隱藏。document.currentScript.parentNode。.webkitfullscreenElement != null。webkitIsFullScreen <br>
註解尚需手動關閉。showinfo=0沒作用<br>
重載入功能(暫停後重啟無法接到即時串流)<br>

  快速鍵:youtube api, <br>
	F全螢幕切換,在內嵌模式沒反應,標準模式正常, ESC結束全螢幕。<br>
	K/Space,暫停/播放,可混用。<br>
	up/down,音量5%<br>
	M靜音切換<br>

待測鍵<br>
0~9,進度<br>
left/right,快轉5秒<br>
J/K,快轉10秒<br>
C,字幕開關<br>
Shift+大於或小於,播放速度<br>

  chrome政策:禁止自動發出聲音。<br>
</body>
</html>
